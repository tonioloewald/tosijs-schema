{
  "version": 3,
  "sources": ["../src/schema.ts", "../src/monad.ts"],
  "sourcesContent": [
    "// THE TRUTH\nconst RX_EMOJI_ATOM = '\\\\p{Extended_Pictographic}'\n\nconst create = (s: any): any => ({\n  schema: s,\n  _type: null as any,\n  validate: (data: any, opts?: any) => validate(data, s, opts),\n\n  // --- Modifiers ---\n  get optional() {\n    return create({\n      ...s,\n      type: Array.isArray(s.type) ? [...s.type, 'null'] : [s.type, 'null'],\n    })\n  },\n\n  // --- Metadata ---\n  title: (t: string) => create({ ...s, title: t }),\n  describe: (d: string) => create({ ...s, description: d }),\n  default: (v: any) => create({ ...s, default: v }),\n  meta: (m: Record<string, any>) => create({ ...m, ...s, ...m }),\n\n  // --- Polymorphic Constraints ---\n  min: (v: number) => {\n    const key =\n      s.type === 'string'\n        ? 'minLength'\n        : s.type === 'array'\n        ? 'minItems'\n        : s.type === 'object'\n        ? 'minProperties'\n        : 'minimum'\n    return create({ ...s, [key]: v })\n  },\n  max: (v: number) => {\n    const key =\n      s.type === 'string'\n        ? 'maxLength'\n        : s.type === 'array'\n        ? 'maxItems'\n        : s.type === 'object'\n        ? 'maxProperties' // Generated for docs, ignored by validator (Ghost)\n        : 'maximum'\n    return create({ ...s, [key]: v })\n  },\n\n  // --- String Specific ---\n  pattern: (r: RegExp | string) =>\n    create({ ...s, pattern: typeof r === 'string' ? r : r.source }),\n\n  get email() {\n    return create({ ...s, format: 'email' })\n  },\n  get uuid() {\n    return create({ ...s, format: 'uuid' })\n  },\n  get ipv4() {\n    return create({ ...s, format: 'ipv4' })\n  },\n  get url() {\n    return create({ ...s, format: 'uri' })\n  },\n  get datetime() {\n    return create({ ...s, format: 'date-time' })\n  },\n  get emoji() {\n    return create({ ...s, pattern: `^${RX_EMOJI_ATOM}+$`, format: 'emoji' })\n  },\n\n  // --- Number Specific ---\n  get int() {\n    return create({ ...s, type: 'integer' })\n  },\n  step: (v: number) => create({ ...s, multipleOf: v }),\n})\n\n// THE LIE\n\nexport type Infer<S> = S extends { _type: infer T } ? T : never\n\n// --- Type Helpers for Object Optionality ---\ntype OptionalKeys<T> = {\n  [K in keyof T]-?: undefined extends T[K] ? K : never\n}[keyof T]\ntype RequiredKeys<T> = {\n  [K in keyof T]-?: undefined extends T[K] ? never : K\n}[keyof T]\ntype SmartObject<T> = { [K in OptionalKeys<T>]?: T[K] } & {\n  [K in RequiredKeys<T>]: T[K]\n} extends infer O\n  ? { [K in keyof O]: O[K] }\n  : never\n\nexport interface Base<T> {\n  schema: any\n  _type: T\n  get optional(): Base<T | undefined>\n  validate(val: any, opts?: ValidateOptions | ErrorHandler): boolean\n  title(t: string): Base<T>\n  describe(d: string): Base<T>\n  default(v: T): Base<T>\n  meta(m: Record<string, any>): Base<T>\n}\n\ninterface Str<T = string> extends Base<T> {\n  // Metadata Overrides\n  title(t: string): Str<T>\n  describe(d: string): Str<T>\n  default(v: T): Str<T>\n  meta(m: Record<string, any>): Str<T>\n\n  // Constraints\n  min(len: number): Str<T>\n  max(len: number): Str<T>\n  pattern(r: RegExp | string): Str<T>\n  get email(): Str<T>\n  get uuid(): Str<T>\n  get ipv4(): Str<T>\n  get url(): Str<T>\n  get datetime(): Str<T>\n  get emoji(): Str<T>\n}\n\ninterface Num<T = number> extends Base<T> {\n  title(t: string): Num<T>\n  describe(d: string): Num<T>\n  default(v: T): Num<T>\n  meta(m: Record<string, any>): Num<T>\n\n  min(val: number): Num<T>\n  max(val: number): Num<T>\n  step(val: number): Num<T>\n  get int(): Num<T>\n}\n\ninterface Arr<T> extends Base<T> {\n  title(t: string): Arr<T>\n  describe(d: string): Arr<T>\n  default(v: T): Arr<T>\n  meta(m: Record<string, any>): Arr<T>\n\n  min(count: number): Arr<T>\n  max(count: number): Arr<T>\n}\n\ninterface Obj<T> extends Base<T> {\n  title(t: string): Obj<T>\n  describe(d: string): Obj<T>\n  default(v: T): Obj<T>\n  meta(m: Record<string, any>): Obj<T>\n\n  min(count: number): Obj<T>\n  max(count: number): Obj<T>\n}\n\n// PROXY\n\nconst methods = {\n  // --- First-Class Formats ---\n  get email() {\n    return create({ type: 'string', format: 'email' }) as Str\n  },\n  get uuid() {\n    return create({ type: 'string', format: 'uuid' }) as Str\n  },\n  get ipv4() {\n    return create({ type: 'string', format: 'ipv4' }) as Str\n  },\n  get url() {\n    return create({ type: 'string', format: 'uri' }) as Str\n  },\n  get datetime() {\n    return create({ type: 'string', format: 'date-time' }) as Str\n  },\n  get emoji() {\n    return create({\n      type: 'string',\n      pattern: `^${RX_EMOJI_ATOM}+$`,\n      format: 'emoji',\n    }) as Str\n  },\n  get any() {\n    return create({}) as Base<any>\n  },\n\n  pattern: (r: RegExp | string) =>\n    create({\n      type: 'string',\n      pattern: typeof r === 'string' ? r : r.source,\n    }) as Str,\n\n  union: <T extends Base<any>[]>(schemas: T) =>\n    create({ anyOf: schemas.map((s) => s.schema) }) as Base<Infer<T[number]>>,\n\n  enum: <T extends string | number>(vals: T[]) =>\n    create({ type: typeof vals[0], enum: vals }) as Base<T>,\n\n  array: <T>(items: Base<T>) =>\n    create({ type: 'array', items: items.schema }) as Arr<T[]>,\n\n  // FIX: 'readonly' added to generic constraint to force tuple inference\n  tuple: <T extends readonly [Base<any>, ...Base<any>[]]>(items: T) =>\n    create({\n      type: 'array',\n      items: items.map((s) => s.schema),\n      minItems: items.length,\n      maxItems: items.length,\n    }) as Base<{ [K in keyof T]: T[K] extends Base<infer U> ? U : never }>,\n\n  // FIX: Wrapped return type in SmartObject<>\n  object: <P extends Record<string, Base<any>>>(props: P) => {\n    const properties: any = {}\n    const required: string[] = []\n    for (const k in props) {\n      properties[k] = props[k]!.schema\n      // Heuristic: If the schema type includes 'null', it's optional.\n      // This allows .optional() to result in a non-required field.\n      if (\n        !Array.isArray(properties[k].type) ||\n        !properties[k].type.includes('null')\n      ) {\n        required.push(k)\n      }\n    }\n    return create({\n      type: 'object',\n      properties,\n      required,\n      additionalProperties: false,\n    }) as Obj<SmartObject<{ [K in keyof P]: Infer<P[K]> }>>\n  },\n\n  record: <T>(value: Base<T>) =>\n    create({\n      type: 'object',\n      additionalProperties: value.schema,\n    }) as Obj<Record<string, T>>,\n}\n\ntype TinySchema = typeof methods & {\n  string: Str\n  number: Num\n  integer: Num\n  boolean: Base<boolean>\n  any: Base<any>\n}\n\nexport const s = new Proxy(methods, {\n  get(target: any, prop: string) {\n    if (prop in target) return target[prop]\n    if (\n      prop === 'string' ||\n      prop === 'number' ||\n      prop === 'boolean' ||\n      prop === 'integer'\n    ) {\n      const schema = create({ type: prop })\n      target[prop] = schema\n      return schema\n    }\n    return undefined\n  },\n}) as TinySchema\n\n// VALIDATOR\n\nconst STRIDE = 97\nconst FMT: Record<string, (v: string) => boolean> = {\n  email: (v) => /^\\S+@\\S+\\.\\S+$/.test(v),\n  uuid: (v) =>\n    /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(v),\n  uri: (v) => {\n    try {\n      new URL(v)\n      return true\n    } catch {\n      return false\n    }\n  },\n  ipv4: (v) =>\n    /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n      v\n    ),\n  'date-time': (v) => !isNaN(Date.parse(v)),\n  emoji: (v) => new RegExp(RX_EMOJI_ATOM, 'u').test(v),\n}\n\nexport type ErrorHandler = (path: string, msg: string) => void\n\nexport interface ValidateOptions {\n  onError?: ErrorHandler\n  fullScan?: boolean\n}\n\nexport function validate(\n  val: any,\n  builderOrSchema: Base<any> | Record<string, any>,\n  opts?: ValidateOptions | ErrorHandler\n): boolean {\n  const schema = builderOrSchema?.schema || builderOrSchema\n  const onError = typeof opts === 'function' ? opts : opts?.onError\n  const fullScan = typeof opts === 'object' ? opts?.fullScan : false\n\n  const path: string[] = []\n\n  const err = (msg: string) => {\n    if (onError) onError(path.join('.') || 'root', msg)\n    return false\n  }\n\n  const walk = (v: any, s: any): boolean => {\n    if (s.anyOf) {\n      for (const sub of s.anyOf) {\n        if (validate(v, sub)) return true\n      }\n      return err('Union mismatch')\n    }\n\n    if (v === null || v === undefined) {\n      return (\n        !s.type ||\n        (Array.isArray(s.type) && s.type.includes('null')) ||\n        err('Expected value')\n      )\n    }\n\n    const t = Array.isArray(s.type) ? s.type[0] : s.type\n    if (s.enum && !s.enum.includes(v)) return err('Enum mismatch')\n\n    if (t === 'integer') {\n      if (typeof v !== 'number' || !Number.isInteger(v))\n        return err('Expected integer')\n    } else if (t === 'array') {\n      if (!Array.isArray(v)) return err('Expected array')\n    } else if (t === 'object') {\n      if (typeof v !== 'object' || Array.isArray(v))\n        return err('Expected object')\n    } else if (t && typeof v !== t) return err(`Expected ${t}`)\n\n    if (typeof v === 'number') {\n      if (s.minimum !== undefined && v < s.minimum) return err('Value < min')\n      if (s.maximum !== undefined && v > s.maximum) return err('Value > max')\n      if (s.multipleOf !== undefined && v % s.multipleOf !== 0)\n        return err('Value not step')\n    }\n    if (typeof v === 'string') {\n      if (s.minLength !== undefined && v.length < s.minLength)\n        return err('Len < min')\n      if (s.maxLength !== undefined && v.length > s.maxLength)\n        return err('Len > max')\n      if (\n        s.pattern &&\n        !new RegExp(s.pattern, s.format === 'emoji' ? 'u' : '').test(v)\n      )\n        return err('Pattern mismatch')\n      if (s.format && FMT[s.format] && !FMT[s.format]!(v))\n        return err('Format invalid')\n    }\n\n    if (t === 'object') {\n      if (s.minProperties !== undefined) {\n        let c = 0\n        for (const k in v) if (Object.prototype.hasOwnProperty.call(v, k)) c++\n        if (c < s.minProperties) return err('Too few props')\n      }\n\n      if (s.required) {\n        for (const k of s.required) if (!(k in v)) return err(`Missing ${k}`)\n      }\n\n      if (s.properties) {\n        for (const k in s.properties) {\n          if (k in v) {\n            path.push(k)\n            const ok = walk(v[k], s.properties[k])\n            path.pop()\n            if (!ok) return false\n          }\n        }\n      }\n      if (s.additionalProperties) {\n        let i = 0\n        for (const k in v) {\n          if (s.properties && k in s.properties) continue\n\n          if (!fullScan) {\n            i++\n            if (i % STRIDE !== 0) continue\n          }\n\n          path.push(k)\n          const ok = walk(v[k], s.additionalProperties)\n          path.pop()\n          if (!ok) return false\n        }\n      }\n      return true\n    }\n\n    if (t === 'array' && s.items) {\n      const len = v.length\n      if (s.minItems !== undefined && len < s.minItems)\n        return err('Array too short')\n      if (s.maxItems !== undefined && len > s.maxItems)\n        return err('Array too long')\n\n      if (Array.isArray(s.items)) {\n        for (let i = 0; i < s.items.length; i++) {\n          path.push(String(i))\n          if (!walk(v[i], s.items[i])) {\n            path.pop()\n            return false\n          }\n          path.pop()\n        }\n        return true\n      }\n\n      const step = fullScan || len <= STRIDE ? 1 : Math.floor(len / STRIDE)\n      for (let i = 0; i < len; i += step) {\n        const idx = step > 1 && i > len - 1 - step ? len - 1 : i\n        path.push(String(idx))\n        const ok = walk(v[idx], s.items)\n        path.pop()\n        if (!ok) return false\n        if (idx === len - 1) break\n      }\n      return true\n    }\n\n    return true\n  }\n\n  return walk(val, schema)\n}\n\n// DIFF\n\nexport function diff(a: any, b: any): any {\n  if (JSON.stringify(a) === JSON.stringify(b)) return null\n  if (a.anyOf || b.anyOf) {\n    if (JSON.stringify(a.anyOf) !== JSON.stringify(b.anyOf))\n      return { error: 'Union mismatch', from: a.anyOf, to: b.anyOf }\n    return null\n  }\n  if (a.type !== b.type)\n    return { error: `Type mismatch: ${a.type} vs ${b.type}` }\n\n  if (a.type === 'object') {\n    const d: any = {}\n    const keys = new Set([\n      ...Object.keys(a.properties || {}),\n      ...Object.keys(b.properties || {}),\n    ])\n    let has = false\n\n    keys.forEach((k) => {\n      const pA = a.properties?.[k],\n        pB = b.properties?.[k]\n      if (!pA) {\n        d[k] = { error: 'Added in B' }\n        has = true\n      } else if (!pB) {\n        d[k] = { error: 'Removed in B' }\n        has = true\n      } else {\n        const sub = diff(pA, pB)\n        if (sub) {\n          d[k] = sub\n          has = true\n        }\n      }\n    })\n    ;['minProperties', 'maxProperties'].forEach((k) => {\n      if (JSON.stringify(a[k]) !== JSON.stringify(b[k])) {\n        d[k] = { from: a[k], to: b[k] }\n        has = true\n      }\n    })\n\n    return has ? d : null\n  }\n\n  if (a.type === 'array') {\n    if (Array.isArray(a.items) && Array.isArray(b.items)) {\n      if (a.items.length !== b.items.length)\n        return { error: 'Tuple length mismatch' }\n      const d: any = {}\n      let has = false\n      for (let i = 0; i < a.items.length; i++) {\n        const sub = diff(a.items[i], b.items[i])\n        if (sub) {\n          d[i] = sub\n          has = true\n        }\n      }\n      return has ? { items: d } : null\n    }\n    if (!Array.isArray(a.items) && !Array.isArray(b.items)) {\n      const d = diff(a.items, b.items)\n      return d ? { items: d } : null\n    }\n    return { error: 'Array type mismatch (Tuple vs List)' }\n  }\n\n  const d: any = {}\n  let has = false\n  ;[\n    'minimum',\n    'maximum',\n    'minLength',\n    'pattern',\n    'format',\n    'enum',\n    'title',\n    'description',\n    'default',\n  ].forEach((k) => {\n    if (JSON.stringify(a[k]) !== JSON.stringify(b[k])) {\n      d[k] = { from: a[k], to: b[k] }\n      has = true\n    }\n  })\n  return has ? d : null\n}\n",
    "import { type Base, type Infer, validate } from './schema'\n\n// Errors\n\nexport class SchemaError extends Error {\n  constructor(\n    public kind: 'Input' | 'Output',\n    public functionName: string,\n    public violations: string[] = []\n  ) {\n    super(`${kind} validation failed for '${functionName}'`)\n    this.name = 'SchemaError'\n  }\n}\n\n// Types\n\nexport type GuardedFunc<I, O> = {\n  (input: I): Promise<O>\n  input: Base<I>\n  output: Base<O>\n  impl: (input: I) => Promise<O> | O\n  _isGuarded: true\n}\n\ntype Chain<Val, Registry> = {\n  result: () => Promise<Val>\n} & {\n  [K in keyof Registry]: Registry[K] extends GuardedFunc<infer I, infer O>\n    ? Val extends I\n      ? () => Chain<O, Registry>\n      : never\n    : never\n}\n\ntype MBuilder<Registry> = {\n  [K in keyof Registry]: Registry[K] extends GuardedFunc<infer I, infer O>\n    ? (input: I) => Chain<O, Registry>\n    : never\n}\n\n// M Class\n\nexport class M<R extends Record<string, GuardedFunc<any, any>>> {\n  private registry: R\n\n  constructor(registry: R) {\n    this.registry = registry\n    return new Proxy(this, {\n      get: (target, prop: string) => {\n        if (prop in target.registry) {\n          return (input: any) => target.start(prop, input)\n        }\n        return undefined\n      },\n    }) as any\n  }\n\n  static func<I extends Base<any>, O extends Base<any>>(\n    inputSchema: I,\n    outputSchema: O,\n    impl: (data: Infer<I>) => Promise<Infer<O>> | Infer<O>\n  ): GuardedFunc<Infer<I>, Infer<O>> {\n    const wrapper = async (data: Infer<I>) => {\n      const validIn = validate(data, inputSchema.schema, { fullScan: true })\n      if (!validIn) {\n        throw new SchemaError('Input', 'Anonymous', ['Input schema mismatch'])\n      }\n\n      const result = await impl(data)\n\n      const validOut = validate(result, outputSchema.schema, { fullScan: true })\n      if (!validOut) {\n        throw new SchemaError('Output', 'Anonymous', ['Output schema mismatch'])\n      }\n\n      return result\n    }\n\n    wrapper.input = inputSchema\n    wrapper.output = outputSchema\n    wrapper.impl = impl\n    wrapper._isGuarded = true as const\n\n    return wrapper as GuardedFunc<Infer<I>, Infer<O>>\n  }\n\n  private start(fnName: string, input: any): any {\n    const fn = this.registry[fnName]\n\n    const promise = (async () => {\n      if (!fn) {\n        throw new Error(`Function '${fnName}' not found in registry`)\n      }\n\n      if (!validate(input, fn.input.schema, { fullScan: true })) {\n        throw new SchemaError('Input', fnName)\n      }\n\n      const output = await fn.impl(input)\n\n      if (!validate(output, fn.output.schema, { fullScan: true })) {\n        throw new SchemaError('Output', fnName)\n      }\n\n      return output\n    })()\n\n    return this.createChain(promise, this.registry)\n  }\n\n  private createChain(currentPromise: Promise<any>, registry: R): any {\n    const chainHandler = {\n      get: (_: any, prop: string) => {\n        if (prop === 'result') {\n          return () => currentPromise\n        }\n\n        if (prop in registry) {\n          return () => {\n            const nextPromise = currentPromise.then(async (currentVal) => {\n              const fn = registry[prop]\n\n              if (!fn) {\n                throw new Error(`Function '${prop}' not found in registry`)\n              }\n\n              if (!validate(currentVal, fn.input.schema)) {\n                throw new SchemaError('Input', prop, ['Chain type mismatch'])\n              }\n\n              const output = await fn.impl(currentVal)\n\n              if (!validate(output, fn.output.schema)) {\n                throw new SchemaError('Output', prop)\n              }\n\n              return output\n            })\n\n            return this.createChain(nextPromise, registry)\n          }\n        }\n        return undefined\n      },\n    }\n\n    return new Proxy({}, chainHandler)\n  }\n}\n\nexport const createM = <R extends Record<string, GuardedFunc<any, any>>>(\n  r: R\n): MBuilder<R> => {\n  return new M(r) as any\n}"
  ],
  "mappings": "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",
  "debugId": "854E86E71C36CBDA64756E2164756E21",
  "names": []
}